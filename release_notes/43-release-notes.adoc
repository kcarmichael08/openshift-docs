:_content-type: ASSEMBLY
[id="release-notes-43"]
= {product-title} 4.3
include::modules/common-attributes.adoc[]
:context: release-notes-43

toc::[]

{rh-rhacs-first} is an enterprise-ready, Kubernetes-native container security solution that protects your vital applications across the build, deploy, and runtime stages of the application lifecycle.
{product-title} deploys into your infrastructure and integrates with your DevOps tools and workflows. This integration provides better security and compliance, enabling DevOps and InfoSec teams to operationalize security.

.Release dates
[options="header"]
|====

|{product-title-short} version |Released on

|`4.3.0` | 15 November 2023

|====

[id="about-this-release_{context}"]
== About this release

{product-title-short} 4.3 adds new features, improvements, and updates.

[id="new-features_{context}"]
== New features

This release adds improvements related to the following components and concepts.

[id="hardware-software-support_{context}"]
=== Increased support for hardware and software

{product-title-short} support has been increased for the following hardware and software:

* {rh-ibm-cloud}: You can now protect {rh-ibm-cloud} by using {product-title-short}. With this release, you can run secured clusters on {rh-ibm-cloud}.
* {ibm-power} and {ibm-z}: {product-title-short} Central Services are now supported on {ibm-power} and {ibm-z}.
* {osp}: This release is supported with {ocp} 4.14.
* {product-rosa}: {product-title-short} is supported on {product-rosa-short} with hosted control plane (HCP) enabled clusters.
+
:FeatureName: Red Hat OpenShift Service on AWS (ROSA) with hosted control planes (HCP)
include::snippets/technology-preview.adoc[]

For more information, see xref:../installing/acs-installation-platforms.adoc#install-platforms-methods_acs-installation-platforms[Supported platforms and installation methods].

[id="vuln-report20-ga_{context}"]
=== Vulnerability reporting 2.0 is generally available

With this release, the *Vulnerability Reporting* option under the *Vulnerability Management (2.0)* menu is generally available. Several enhancements have been made to vulnerability reporting, including the ability to customize email templates that are used when reports are sent. For more information, see xref:../operating/manage-vulnerabilities/vulnerability-management.adoc#vulnerability-reporting-vuln-mgt2[Vulnerability Reporting].

[NOTE]
====
Reports created in the *Vulnerability Management 1.0* -> *Reporting* page are automatically migrated. For more information, see xref:../operating/manage-vulnerabilities/vulnerability-management.adoc#vulnerability-management-migration_acs-operating-manage-vulnerabilities[Migration of vulnerability reports when upgrading to {product-title-short} version 4.3 and later].
====

[id="watch-images-vm20_{context}"]
=== Watch and scan images in Vulnerability Management 2.0

The ability to mark an image as _watched_ has been migrated from the *Vulnerability Management (1.0)* menu item to *Vulnerability Management 2.0*. Watched images are still scanned for vulnerabilities even when not in use by an active deployment.

For more information, see xref:../operating/examine-images-for-vulnerabilities.adoc#scan-inactive-images_examine-images-for-vulnerabilities[Scanning inactive images].

[id="view-admin-events_{context}"]
=== View administration events information

With this release, {product-title-short} introduces an administration events dashboard that allows you to efficiently manage and troubleshoot events within your {product-title-short} instance and significantly improves the reliability and security of your {product-title-short} instance.

For more information, see xref:../operating/using-the-administration-events-dashboard.adoc#using-the-administration-events-dashboard[Using the administration events dashboard].

[id="scan-images-using-roxctl_{context}"]
=== Scan images by using the roxctl CLI

You can now scan images stored in image registries, including cluster local registries such as the {ocp} integrated image registry, by using the `roxctl` CLI.

For more information, see xref:../cli/image-scanning-by-using-the-roxctl-cli.adoc#image-scanning-by-using-the-roxctl-cli[Image scanning by using the `roxctl` CLI].

[id="invite-users-rhacs-instance_{context}"]
=== Invite users to your RHACS instance

You can now invite users and define their roles to ensure accurate access control and improve the security of your {product-title-short} instance.

For more information, see xref:../configuration/inviting-users-to-your-rhacs-instance.adoc#inviting-users-to-your-rhacs-instance[Inviting users to your {product-title-short} instance].


[id="notable-technical-changes_{context}"]
== Notable technical changes

* When audit logging is enabled, audit log messages now include the source IP address of the audit log request. For more information, see xref:..//configuration/configure-audit-logging.adoc#enable-audit-log_configure-audit-logging[Enabling audit logging].
* The default policy "Iptables Executed in Privileged Container" has been renamed to "Iptables or nftables Executed in Privileged Container" and now also detects the `nft` process that is used by `nftables`.
* Risk reprocessing has been changed from potentially being computed every 15 seconds to 10 minutes. This improves system performance by debouncing expensive risk calculations. To use the earlier value for risk reprocessing, set the environment variable ROX_RISK_REPROCESSING_INTERVAL to `15s`.

[id="upcoming-changes_{context}"]
== Notice of upcoming changes to RHACS vulnerability management

In the past several {product-title-short} releases, we have optimized and enhanced {product-title-short} features and functionality available in the *Vulnerability Management (1.0)* menu item and migrated them to the *Vulnerability Management (2.0)* menu item.

The existing page for *Risk Acceptance* in the *Vulnerability Management (1.0)* menu item will be migrated to the *Vulnerability Management (2.0)* menu item in an upcoming release. It will be renamed *Vulnerability Exception Management*.

We invite you to review the existing features in the *Vulnerability Management (2.0)* menu item and give us feedback by clicking the red *Feedback* button in the {product-title-short} web portal.

[id="deprecated-and-removed-features_{context}"]
== Deprecated and removed features

Some features available in earlier releases have been deprecated or removed.

Deprecated functionality is still included in {product-title-short} and continues to be supported; however, it will be removed in a future release of this product and is not recommended for new deployments.
For the most recent list of major functionality deprecated and removed, see the following table.
Additional information about some removed or deprecated functionality is available after the table.

In the table, features are marked with the following statuses:

* GA: General Availability
* TP: Technology Preview
* DEP: Deprecated
* REM: Removed
* NA: Not applicable

.Deprecated and removed features tracker
[cols="3,1,1,1",options="header"]
|====
| Feature | {product-title-short} 4.1 |{product-title-short} 4.2 | {product-title-short} 4.3

| CIS Docker v1.2.0 Compliance Standard
| NA
| DEP
| DEP

| Custom Security Context Constraints (SCCs): `stackrox-collector`,`stackrox-admission-control`, and `stackrox-sensor`
| DEP
| DEP
| REM

| Examining images for Application-level dependencies for vulnerability reporting: `dotnet/shared/Microsoft.AspNetCore.App/` and `dotnet/shared/Microsoft.NETCore.App/`
| DEP
| DEP
| REM

| `Expiration` field in `Exclusion` proto
| DEP
| DEP
| REM

| `roxctl connectivity-map`
| NA
| DEP
| DEP

| `roxctl generate netpol`
| NA
| DEP
| DEP

| `/v1/clustercves/suppress` APIs
| NA
| NA
| DEP

| `/v1/clustercves/unsuppress` APIs
| NA
| NA
| DEP

| `/v1/cve/requests` APIs
| NA
| NA
| DEP

| `/v1/nodecves/suppress` APIs
| NA
| NA
| DEP

| `/v1/nodecves/unsuppress` APIs
| NA
| NA
| DEP

| `/v1/report` endpoint
| DEP
| DEP
| REM

| `/v1/serviceaccounts` endpoint
| DEP
| DEP
| REM

| *Vulnerability Management (1.0)* menu item
| GA
| GA
| DEP

| *Vulnerability Management (1.0)*: Image CVEs, Image Components, Images, Deployments, and Namespaces
| DEP
| DEP
| REM

| *Vulnerability Management (1.0)* -> *Vulnerability Reporting* page
| DEP
| DEP
| REM

| `Vulnerability Management Approver` permission
| DEP
| DEP
| REM

| `Vulnerability Report Creator` permission
| GA
| DEP
| DEP

| `Vulnerability Management Requester` permission
| DEP
| DEP
| REM

|====


[id="deprecated-features_{context}"]
=== Deprecated features

The following section provides additional information about deprecated features listed in the preceding table.

* The *Vulnerability Management (1.0)* menu item in the {product-title-short} web portal has been deprecated and future removal is planned. It is replaced by *Vulnerability Management (2.0)*.
* The `/v1/cve/requests` APIs have been deprecated and will be replaced by `/v2/vulnerability-exceptions/` APIs in the future.
Vulnerability deferral management for host (`/node`) and platform (`/cluster`) vulnerabilities has been deprecated and will be removed in the future. After deferral management is removed, deferrals cannot be created for host and platform vulnerabilities and the existing exceptions enforced on host and platform vulnerabilities will be reverted. The affected APIs are `/v1/nodecves/suppress`, `/v1/nodecves/unsuppress`, `/v1/clustercves/suppress`, and `/v1/clustercves/unsuppress`.

[id="removed-features_{context}"]
=== Removed features

* The *Vulnerability Reporting* page in the *Vulnerability Management (1.0)* menu item has been removed. Vulnerability reporting is available under the *Vulnerability Management (2.0)* menu item.
* The `/v1/report` APIs have been removed. Use the `/v2/reports/` APIs.

[id="bug-fixes_{context}"]
== Bug fixes

[id="resolved-in-version-430_{context}"]
=== Resolved in version 4.3.0

*Release date*: 15 November 2023

* Fixed the diagnostic bundle generation returning an incomplete .zip file when the connection to a secured cluster is lost.
* Fixed an issue with the Sensor upgrade tool failing to upgrade from earlier versions on {ocp} clusters.
* In some cases, Common Vulnerabilities and Exposures (CVEs) that were deferred and approved were not added to the list of snoozed CVEs. This behavior was caused by an issue with the `/v1/suppress` and `/v1/unsuppress` APIs and has been fixed.
* Fixed file search in the `ca-setup.sh` file that is used to configure additional Certificate Authorities (CAs). Previously, the script could not find any files in the directory, even with the correct .crt and .pem extensions.

[id="known-issues-430_{context}"]
== Known issues

* {product-title-short} version 4.2 introduced additional logic that considers the socket connection state to decide whether Collector reports a connection or not. The expected behavior is that the connection is not reported until it is successfully established. A known issue on the `ppc64le` architecture can cause a blocked or failing connection to be reported instead of being silenced. No workaround exists for this issue.
* {product-title-short} Central components do not deploy correctly on a default {product-rosa-short} cluster. The workaround is to scale the worker nodes to allow the {product-title-short} components to be scheduled. See link:https://access.redhat.com/solutions/7035877[{product-title-short} Central pods do not schedule on a default ROSA cluster] for more information.

[id="image-versions_{context}"]
== Image versions

[%header,cols="1,1,2"]
|===
| Image | Description | Current version

| Main
| Includes Central, Sensor, Admission controller, and Compliance. Also includes `roxctl` for use in continuous integration (CI) systems.
a| `registry.redhat.io/advanced-cluster-security/rhacs-main-rhel8:4.3.0`

| Scanner
| Scans images and nodes.
a|`registry.redhat.io/advanced-cluster-security/rhacs-scanner-rhel8:4.3.0`

| Scanner DB
| Stores image scan results and vulnerability definitions.
a|`registry.redhat.io/advanced-cluster-security/rhacs-scanner-db-rhel8:4.3.0`

| Collector
| Collects runtime activity in Kubernetes or {ocp} clusters.
a| * `registry.redhat.io/advanced-cluster-security/rhacs-collector-rhel8:4.3.0`
* `registry.redhat.io/advanced-cluster-security/rhacs-collector-slim-rhel8:4.3.0`

| Central DB
| PostgreSQL instance that provides the database storage for Central.
a| `registry.redhat.io/advanced-cluster-security/rhacs-central-db-rhel8:4.3.0`
|===
