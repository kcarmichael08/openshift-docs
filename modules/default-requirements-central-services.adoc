// Module included in the following assemblies:
//
// * installing/acs-default-requirements.adoc
:_mod-docs-content-type: CONCEPT
[id="default-requirements-central-services_{context}"]
= Central services (self-managed)

[NOTE]
====
If you are using {rh-rhacscs-first}, you do not need to review the requirements for Central services, because they are managed by Red Hat. You only need to look at the requirements for secured cluster services.
====

Central services contain the following components:

* Central
* Scanner

[id="default-requirements-central-services-central_{context}"]
== Central

A containerized service called Central handles API interactions and {product-title-short} web portal access while a containerized service called Central DB (PostgreSQL 13) handles data persistence.

Central DB and Scanner V4 require persistent storage.

* You can provide storage with a persistent volume claim (PVC).
+
[NOTE]
====
You can use a hostPath volume for storage only if all your hosts (or a group of hosts) mount a shared file system, such as an NFS share or a storage appliance.
Otherwise, your data is only saved on a single node. Red Hat does not
recommend using a hostPath volume.
====
* Use Solid-State Drives (SSD) for best performance.
However, you can use another storage type if you do not have SSDs available.
* If you use a web proxy or firewall, you must configure bypass rules to allow traffic for the `definitions.stackrox.io` and `collector-modules.stackrox.io` domains and enable {product-title} to trust your web proxy or firewall. Otherwise, updates for vulnerability definitions and kernel support packages will fail.
+
{product-title} requires access to:

** `definitions.stackrox.io` for downloading updated vulnerability definitions. Vulnerability definition updates allow {product-title} to maintain up-to-date vulnerability data when new vulnerabilities are discovered or additional data sources are added.
** `collector-modules.stackrox.io` to download updated kernel support packages. Updated Kernel support packages ensure that {product-title} can monitor the latest operating systems and collect data about the network traffic and processes running inside the containers. Without these updates, {product-title} might fail to monitor containers if you add new nodes in your cluster or if you update your nodes' operating system.

[NOTE]
====
For security reasons, you should deploy Central in a cluster with limited administrative access.
====

[discrete]
== Memory, CPU, and storage requirements

The following table lists the minimum memory and storage values required to install and run Central.

|===
| Central | CPU | Memory | Storage

| *Request*
| 1.5 cores
| 4 GiB
| 100 GiB

| *Limit*
| 4 cores
| 8 GiB
| 100 GiB
|===

Central requires Central DB to store data. The following table lists the minimum memory and storage values required to install and run Central DB.

|===
| Central DB | CPU | Memory | Storage

| *Request*
| 4 cores
| 8 GiB
| 100 GiB

| *Limit*
| 8 cores
| 16 GiB
| 100 GiB
|===


[id="default-requirements-central-services-scanner_{context}"]
== Scanner

The {product-title-short} scanning services scan images that are not already scanned by scanners integrated into image registries. Beginning with release 4.4, {product-title-short} includes two image vulnerability scanners: the StackRox Scanner and Scanner V4. The StackRox Scanner will be removed in a future release, but is required for release 4.4 to perform node and platform scanning. Scanner V4 is optional, but provides additional features such as expanded language and operating system support and additional vulnerability databases.

[discrete]
== Memory and CPU requirements

|===
| StackRox Scanner | CPU | Memory

| *Request*
| 1 core
| 1500 MiB

| *Limit*
| 2 cores
| 4000 MiB
|===

StackRox Scanner requires Scanner-DB to store data. The following table lists the minimum memory and storage values required to install and run Scanner-DB.

|===
| Scanner-DB | CPU | Memory

| *Request*
| .2 cores
| 512 MiB

| *Limit*
| 2 cores
| 4000 MiB
|===

=== Scanner V4 requirements

|===
| Scanner V4 Indexer | CPU | Memory

| *Request*
| 1 core
| 1500 MiB

| *Limit*
| 2 cores
| 3000 MiB

|===

|===
| *Scanner V4 Matcher* | CPU | Memory

| *Request*
| 1 core
| 4000 MiB

| *Limit*
| 2 cores
| 5000 MiB
|===

Scanner V4 requires Scanner V4 DB to store data. The following table lists the minimum memory and storage values required to install and run Scanner V4 DB. For Scanner V4 DB, a PVC ensures optimal performance and should be 50000 MiB. #is this correct or do we want to say that a PVC is actually required? I know that there is currently a workaround that uses an EmptyDir.#

|===
| Scanner V4 DB | CPU | Memory

| *Request*
| .2 cores
| 2000 MiB

| *Limit*
| 2 cores
| 4000 MiB
|===