// Module included in the following assemblies:
//
// * installing/installing_ocp/install-central-ocp.adoc
// * installing/installing_other/install-central-other.adoc
:_mod-docs-content-type: PROCEDURE
[id="using-the-interactive-installer_{context}"]
= Using the interactive installer

[role="_abstract"]
Use the interactive installer to generate the required secrets, deployment configurations, and deployment scripts for your environment.

#Do we need to put a note here that enabling Scanner V4 isn't supported with the roxctl installation? (Is that true?)#

.Procedure
. Run the interactive install command:
+
[source,terminal]
----
$ roxctl central generate interactive
----
+
[IMPORTANT]
====
Installing {product-title-short} using the `roxctl` CLI creates PodSecurityPolicy (PSP) objects by default for backward compatibility. If you install {product-title-short} on Kubernetes versions 1.25 and newer or {ocp} version 4.12 and newer, you must disable the PSP object creation. To do this, specify `--enable-pod-security-policies` option as `false` for the `roxctl central generate` and `roxctl sensor generate` commands.
====
. Press *Enter* to accept the default value for a prompt or enter custom values as required. The following example shows the interactive installer prompts:
+
[source,terminal]
----
Enter path to the backup bundle from which to restore keys and certificates (optional):
Enter read templates from local filesystem (default: "false"):
Enter path to helm templates on your local filesystem (default: "/path"):
Enter PEM cert bundle file (optional): <1>
Enter Create PodSecurityPolicy resources (for pre-v1.25 Kubernetes) (default: "true"): <2>
Enter administrator password (default: autogenerated):
Enter orchestrator (k8s, openshift):
Enter default container images settings (development_build, stackrox.io, rhacs, opensource); it controls repositories from where to download the images, image names and tags format (default: "development_build"):
Enter the directory to output the deployment bundle to (default: "central-bundle"):
Enter the OpenShift major version (3 or 4) to deploy on (default: "0"):
Enter whether to enable telemetry (default: "false"):
Enter central-db image to use (if unset, a default will be used according to --image-defaults):
Enter Istio version when deploying into an Istio-enabled cluster (leave empty when not running Istio) (optional):
Enter the method of exposing Central (route, lb, np, none) (default: "none"): <3>
Enter main image to use (if unset, a default will be used according to --image-defaults):
Enter whether to run StackRox in offline mode, which avoids reaching out to the Internet (default: "false"):
Enter list of secrets to add as declarative configuration mounts in central (default: "[]"): <4>
Enter list of config maps to add as declarative configuration mounts in central (default: "[]"): <5>
Enter the deployment tool to use (kubectl, helm, helm-values) (default: "kubectl"):
Enter scanner-db image to use (if unset, a default will be used according to --image-defaults):
Enter scanner image to use (if unset, a default will be used according to --image-defaults):
Enter Central volume type (hostpath, pvc): <6>
Enter external volume name for Central (default: "stackrox-db"):
Enter external volume size in Gi for Central (default: "100"):
Enter storage class name for Central (optional if you have a default StorageClass configured):
Enter external volume name for Central DB (default: "central-db"):
Enter external volume size in Gi for Central DB (default: "100"):
Enter storage class name for Central DB (optional if you have a default StorageClass configured):
----
<1> If you want to add a custom TLS certificate, provide the file path for the PEM-encoded certificate. When you specify a custom certificate the interactive installer also prompts you to provide a PEM private key for the custom certificate you are using.
<2> If you are running Kubernetes version 1.25 or later, set this value to `false`.
<3> To use the {product-title-short} portal, you must expose Central by using a route, a load balancer or a node port.
<4> For more information on using declarative configurations for authentication and authorization, see "Declarative configuration for authentication and authorization resources" in "Managing RBAC in Red Hat Advanced Cluster Security for Kubernetes".
<5> For more information on using declarative configurations for authentication and authorization, see "Declarative configuration for authentication and authorization resources" in "Managing RBAC in Red Hat Advanced Cluster Security for Kubernetes".
<6> If you plan to install {product-title} on {ocp} with a hostPath volume, you must modify the SELinux policy.
+
[WARNING]
====
On {ocp}, for using a hostPath volume, you must modify the SELinux policy to allow access to the directory, which the host and the container share. It is because SELinux blocks directory sharing by default. To modify the SELinux policy, run the following command:
[source,terminal]
----
$ sudo chcon -Rt svirt_sandbox_file_t <full_volume_path>
----

However, Red Hat does not recommend modifying the SELinux policy, instead use PVC when installing on {ocp}.
====

On completion, the installer creates a folder named central-bundle, which contains the necessary YAML manifests and scripts to deploy Central.
In addition, it shows on-screen instructions for the scripts you need to run to deploy additional trusted certificate authorities, Central and Scanner, and the authentication instructions for logging into the {product-title-short} portal along with the autogenerated password if you did not provide one when answering the prompts.