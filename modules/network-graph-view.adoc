// Module included in the following assemblies:
//
// * operating/manage-network-policies.adoc
:_module-type: CONCEPT
[id="network-graph-view_{context}"]
= About the network graph

[role="_abstract"]

 The network graph provides high-level and detailed information about deployments, network flows, and network policies in your environment.

 :FeatureName: Network graph 2.0
include::snippets/technology-preview.adoc[leveloffset=+1]

{product-title-short} processes all network policies in each secured cluster to show you which deployments can contact each other and which can reach external networks. It also monitors running deployments and tracks traffic between them. You can view the following items in the network graph:

* Network components: From the top menu, you can select namespaces (indicated by the *NS* label) and deployments (indicated by the *D* label) to display on the graph for a chosen cluster (indicated by the *CL* label). You can further filter deployments by using the drop-down list and selecting criteria on which to filter such as common vulnerabilities and exposures (CVEs), labels, and images.
* External entities: These represent entities that are connected outside of your cluster. For more information, see "External entities and connections."
* Network policies: You can view existing policies for a selected component or view components that have no policies.
* Network flows: You can select one of the following flows for the graph:
** Active traffic (default): Selecting this option shows shows observed traffic, focused on the namespace or specific deployment that you selected. You can select the time period for which to display information.
 ** Inactive flows: Selecting this option shows potential flows allowed by your network policies, helping you identify missing network policies needed to achieve tighter isolation. You can select the time period for which to display information.

 You can also simulate network policies from the network graph view. See "Simulating network policies" for more information.

[discrete]
== Navigation and user interface

* Clicking on items or connections between items in the graph allows you to view additional information about components or connections, or perform actions such as adding a network flow to your baseline. You can also click on the connections between items to view information about the connection.
* The legend provides information about the symbols in use and their meaning. The legend shows explanatory text for symbols representing namespaces, deployments, and connections on the network graph.
* You can select additional display options from the drop-down list to display icons such as the network policy status badge, active external traffic badge, and port and protocol labels for edge connections.

[discrete]
== External entities and connections

The network graph view shows network connections between managed clusters and external sources.
In addition, {product-title} automatically discovers and highlights public Classless Inter-Domain Routing (CIDR) address blocks, such as Google Cloud, AWS, Azure, Oracle Cloud, and Cloudflare.
Using this information, you can identify deployments with active external connections and determine if they are making or receiving unauthorized connections from outside your network.

By default, the external connections point to a common *External Entities* box and different CIDR address blocks in the *Network Graph* view.
However, you can choose not to show auto-discovered CIDR blocks by clicking *Manage CIDR blocks* and deselecting *Auto-discovered CIDR blocks*.

##This section below needs review - is all of it still applicable to Network Graph version 2.0?##
{product-title} includes IP ranges for the following cloud providers:

* Google Cloud
* AWS
* Azure
* Oracle Cloud
* Cloudflare

{product-title} fetches and updates the cloud providers' IP ranges every 7 days.
If you are using offline mode, you can update these ranges by installing new support packages.

.Network graph example

The following image provides an example of the network graph. In this example, based on the options that the user has chosen, the graph depicts deployments and traffic flows between them. It also uses a red badge to indicate deployments that are missing policies and therefore allowing all network traffic.

image::network-graph-20-overview.png[Overview of the Network graph showing deployments and connections]

When you click an item in the graph, the rearranged side panel with collapsible sections presents deployment and namespace information. The side panel switches between Deployment mode and Namespace mode based on item in the graph that you have selected. The D or NS label next to the item name in the header (in this example, "postgres,") indicates if it is a deployment or a namespace. The following example illustrates deployment mode.

image::network-graph-20-deployment-mode.png[Side panel for a deployment]

In Namespace mode, the side panel includes a search bar and a list of deployments. You can click on a deployment to view its information. In Namespace mode, the side panel also includes a *Network policies* tab. From this tab, you can view, copy to the clipboard, or export any network policy defined in that namespace, as shown in the following example.

image::network-graph-20-namespace-mode.png[Side panel for a namespace showing network policy information]